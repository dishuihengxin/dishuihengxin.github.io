function toggleTheme(){if(window.themeManager&&typeof window.themeManager.toggleTheme=="function"){window.themeManager.toggleTheme();return}const e=document.documentElement,n=e.classList.contains("dark"),t=n?"light":"dark";t==="dark"?e.classList.add("dark"):e.classList.remove("dark"),localStorage.setItem("theme",t),updateThemeIcon(),window.dispatchEvent(new CustomEvent("themeChanged",{detail:{theme:t}}))}function updateThemeIcon(){const e=document.documentElement.classList.contains("dark"),t=document.querySelectorAll('[data-toggle="dark-mode"], .theme-toggle');t.forEach(t=>{const n=t.querySelector("i, svg");n&&(e?(n.classList.remove("fa-moon"),n.classList.add("fa-sun")):(n.classList.remove("fa-sun"),n.classList.add("fa-moon")))})}document.addEventListener("DOMContentLoaded",function(){setTimeout(()=>{window.themeManager||(console.log("Using fallback theme management"),initScrollReveal())},100),initSmoothScroll(),setTimeout(updateThemeIcon,100)});function initScrollReveal(){const e={threshold:.1,rootMargin:"0px 0px -50px 0px"},t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("revealed")})},e);document.querySelectorAll(".scroll-reveal").forEach(e=>{t.observe(e)})}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href");if(!t||t==="#")return;const n=document.getElementById(t.substring(1));n&&n.scrollIntoView({behavior:"smooth",block:"start"})})})}window.toggleTheme=toggleTheme,window.updateThemeIcon=updateThemeIcon