(function(){"use strict";const a={init(){this.toggle=document.querySelector('[data-toggle="dark-mode"]'),this.currentTheme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),this.syncCurrentState(),this.toggle&&this.toggle.addEventListener("click",()=>this.toggleTheme());const e=window.matchMedia("(prefers-color-scheme: dark)");e.addEventListener("change",e=>{localStorage.getItem("theme")||this.setTheme(e.matches?"dark":"light")})},syncCurrentState(){const e=document.documentElement.classList.contains("dark");this.currentTheme=e?"dark":"light",this.updateToggleIcon()},toggleTheme(){const e=this.currentTheme==="dark"?"light":"dark";this.setTheme(e)},setTheme(e){this.currentTheme=e,localStorage.setItem("theme",e),this.applyTheme(e)},applyTheme(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),this.updateToggleIcon()},updateToggleIcon(){const e=document.querySelector('[data-toggle="dark-mode"]');if(e){const t=e.querySelector("svg path");t&&(this.currentTheme==="dark"?t.setAttribute("d","M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"):t.setAttribute("d","M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"))}if(this.toggle){const e=this.toggle.querySelector("i");e&&(e.classList.remove("fa-sun","fa-moon"),this.currentTheme==="dark"?e.classList.add("fas","fa-sun"):e.classList.add("fas","fa-moon"))}}},n={init(){this.elements=document.querySelectorAll(".scroll-reveal"),this.observer=new IntersectionObserver(this.handleIntersection.bind(this),{threshold:.1,rootMargin:"0px 0px -50px 0px"}),this.elements.forEach(e=>this.observer.observe(e))},handleIntersection(e){e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("revealed"),this.observer.unobserve(e.target))})}},s={init(){this.nav=document.querySelector(".nav-main"),this.mobileToggle=document.querySelector('[data-toggle="mobile-nav"]'),this.mobileMenu=document.querySelector(".mobile-nav"),this.bindEvents(),this.handleScroll()},bindEvents(){this.mobileToggle&&this.mobileMenu&&this.mobileToggle.addEventListener("click",()=>this.toggleMobileMenu()),window.addEventListener("scroll",this.throttle(this.handleScroll.bind(this),16)),document.addEventListener("click",e=>{this.mobileMenu&&!this.nav.contains(e.target)&&this.closeMobileMenu()})},toggleMobileMenu(){this.mobileMenu.classList.toggle("open"),this.mobileToggle.classList.toggle("active"),document.body.classList.toggle("mobile-menu-open")},closeMobileMenu(){this.mobileMenu?.classList.remove("open"),this.mobileToggle?.classList.remove("active"),document.body.classList.remove("mobile-menu-open")},handleScroll(){const e=window.scrollY;this.nav&&this.nav.classList.toggle("scrolled",e>50)},throttle(e,t){let s,n=0;return function(...i){const o=Date.now();o-n>t?(e.apply(this,i),n=o):(clearTimeout(s),s=setTimeout(()=>{e.apply(this,i),n=Date.now()},t-(o-n)))}}},v={init(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",this.handleClick.bind(this))})},handleClick(e){e.preventDefault();const t=e.currentTarget.getAttribute("href");if(!t||t==="#")return;const n=document.getElementById(t.substring(1));n&&n.scrollIntoView({behavior:"smooth",block:"start"})}},g={init(){if(this.sidebar=document.querySelector(".sticky-sidebar"),this.article=document.querySelector("article"),!this.sidebar||!this.article)return;this.handleScroll=this.throttle(this.updateSidebarPosition.bind(this),16),window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleScroll),this.updateSidebarPosition()},throttle(e,t){let s,n=0;return function(...i){const o=Date.now();o-n>t?(e.apply(this,i),n=o):(clearTimeout(s),s=setTimeout(()=>{e.apply(this,i),n=Date.now()},t-(o-n)))}},updateSidebarPosition(){if(window.innerWidth<1024)return;const t=this.article.getBoundingClientRect(),o=this.sidebar.getBoundingClientRect(),i=window.innerHeight,e=window.pageYOffset,n=t.bottom,a=o.height,s=96;if(n<=i&&n>0){const o=e+t.bottom,n=o-a,i=e+s;i>n?(this.sidebar.style.position="absolute",this.sidebar.style.top=`${n-e+s}px`):(this.sidebar.style.position="sticky",this.sidebar.style.top="6rem")}else this.sidebar.style.position="sticky",this.sidebar.style.top="6rem"},destroy(){this.handleScroll&&(window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleScroll))}},l={init(){this.images=document.querySelectorAll("img[data-src]"),"IntersectionObserver"in window?(this.observer=new IntersectionObserver(this.handleIntersection.bind(this),{rootMargin:"50px 0px"}),this.images.forEach(e=>this.observer.observe(e))):this.images.forEach(this.loadImage)},handleIntersection(e){e.forEach(e=>{e.isIntersecting&&(this.loadImage(e.target),this.observer.unobserve(e.target))})},loadImage(e){e.src=e.dataset.src,e.classList.add("loaded"),e.removeAttribute("data-src")}},c={init(){this.cards=document.querySelectorAll(".expertise-card"),this.bindHoverEffects()},bindHoverEffects(){this.cards.forEach((e,t)=>{e.style.animationDelay=`${t*.1}s`,e.addEventListener("mouseenter",()=>{this.animateCard(e,"enter")}),e.addEventListener("mouseleave",()=>{this.animateCard(e,"leave")})})},animateCard(e,t){const n=e.querySelector(".tech-icon");t==="enter"?(e.style.transform="translateY(-8px) scale(1.02)",n&&(n.style.transform="rotate(5deg) scale(1.1)")):(e.style.transform="translateY(0) scale(1)",n&&(n.style.transform="rotate(0) scale(1)"))}},t={init(){this.measurePageLoad(),this.preloadCriticalResources(),this.initWebVitals()},measurePageLoad(){window.addEventListener("load",()=>{const e=performance.getEntriesByType("navigation")[0],t=e.loadEventEnd-e.fetchStart;console.log(`Page load time: ${t}ms`),window.gtag&&window.gtag("event","page_load_time",{value:Math.round(t),custom_parameter:"performance"})})},preloadCriticalResources(){const e=document.querySelectorAll("img.critical");e.forEach(e=>{const t=document.createElement("link");t.rel="preload",t.as="image",t.href=e.src,document.head.appendChild(t)})},initWebVitals(){"PerformanceObserver"in window&&(new PerformanceObserver(e=>{const t=e.getEntries(),n=t[t.length-1];console.log("LCP:",n.startTime)}).observe({entryTypes:["largest-contentful-paint"]}),new PerformanceObserver(e=>{const t=e.getEntries();t.forEach(e=>{console.log("FID:",e.processingStart-e.startTime)})}).observe({entryTypes:["first-input"]}),new PerformanceObserver(e=>{let t=0;e.getEntries().forEach(e=>{e.hadRecentInput||(t+=e.value)}),console.log("CLS:",t)}).observe({entryTypes:["layout-shift"]}))}},r={init(){this.handleKeyboardNavigation(),this.manageReducedMotion()},handleKeyboardNavigation(){document.addEventListener("keydown",e=>{e.key==="Tab"&&document.body.classList.add("keyboard-navigation")}),document.addEventListener("mousedown",()=>{document.body.classList.remove("keyboard-navigation")})},manageReducedMotion(){const e=window.matchMedia("(prefers-reduced-motion: reduce)");e.matches&&document.body.classList.add("reduced-motion")}},i={init(){this.loadPWAManager()},loadPWAManager(){try{window.PWAManager?new window.PWAManager:console.warn("PWAManager not available globally")}catch(e){console.warn("PWA features not available:",e)}},async loadPerformanceOptimizer(){console.log("Performance optimizer loading skipped")}},d={init(){console.log("Performance optimization module skipped")}},u={init(){console.log("UX enhancements module skipped")}},h={init(){console.log("Security manager module skipped")}},m={init(){console.log("Mobile optimization module skipped")}},f={init(){console.log("Code quality module skipped")}},p={init(){console.log("Sitemap optimization module skipped")}},o={init(){this.setupErrorTracking(),this.trackUserInteractions()},setupErrorTracking(){window.addEventListener("error",e=>{this.logError("JavaScript Error",{message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,stack:e.error?.stack})}),window.addEventListener("unhandledrejection",e=>{this.logError("Unhandled Promise Rejection",{reason:e.reason})})},trackUserInteractions(){document.addEventListener("click",e=>{const t=e.target.closest("a");t&&t.href&&this.trackEvent("navigation_click",{url:t.href,text:t.textContent.trim()})});let e=0;window.addEventListener("scroll",this.throttle(()=>{const t=Math.round(window.scrollY/(document.body.scrollHeight-window.innerHeight)*100);t>e&&(e=t,e%25===0&&this.trackEvent("scroll_depth",{percent:e}))},1e3))},logError(e,t){console.error(`${e}:`,t),window.gtag&&window.gtag("event","exception",{description:`${e}: ${t.message||t.reason}`,fatal:!1})},trackEvent(e,t){window.gtag&&window.gtag("event",e,t)},throttle(e,t){let s,n=0;return function(...i){const o=Date.now();o-n>t?(e.apply(this,i),n=o):(clearTimeout(s),s=setTimeout(()=>{e.apply(this,i),n=Date.now()},t-(o-n)))}}},e={init(){t.init(),d.init(),h.init(),f.init(),a.init(),n.init(),s.init(),v.init(),g.init(),l.init(),c.init(),r.init(),u.init(),m.init(),i.init(),o.init(),p.init(),console.log("Tech Expert Blog initialized successfully - cache cleared v2")}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e.init.bind(e)):e.init(),window.TechBlog={DarkMode:a,Navigation:s,ScrollReveal:n,Performance:t,Analytics:o,PWAIntegration:i,getPerformanceReport:()=>{const e={};return window.analytics&&(e.analytics=window.analytics.generateReport()),window.sitemapOptimization&&(e.seo=window.sitemapOptimization.generateReport()),e},optimizeForDevice:()=>{console.log("Mobile optimization is currently disabled")},runSecurityCheck:()=>(console.log("Security check is currently disabled"),{status:"disabled",message:"Security manager module is disabled"})}})()